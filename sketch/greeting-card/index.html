<html>
	<head>
	<meta name="viewport" content="width=device-width, initial-scale=0.5">
	<style>
		body {
			font-family: "Comic Sans MS", cursive, sans-serif;
			background-image: url(fon.jpg);
			background-repeat: no-repeat;
			background-size: cover ;
			 
			overflow: hidden;
			z-index: 2;
		}

		.size1{
			width:200px;
		    height:200px;
		    z-index: 1;
	 
		}

		.size2{
			width:100px;
		    height:100px;
		    z-index: 1;
	 
		}

		.size3{
			width:300px;
		    height:300px;
		    z-index: 1;
	 
		}

		.size4{
			width:150px;
		    height:150px;
		    z-index: 1;
	 
		}

		.size5{
			width:50;
		    height:50;
	 z-index: 1;
		}

		.lis1 {
				
			  border-radius: 50%;
			  background-image: url(1.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		  	
		}
		
		.lis2 {
			 border-radius: 50%;
			  background-image: url(2.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		
		.lis3 {
			 border-radius: 50%;
			  background-image: url(3.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		
		.lis4 {
			 border-radius: 50%;
			  background-image: url(4.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		
		.lis5 {
			 border-radius: 50%;
			  background-image: url(5.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}

		.s1 {
			 border-radius: 50%;
			  background-image: url(s1.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s2 {
			 border-radius: 50%;
			  background-image: url(s2.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s3 {
			 border-radius: 50%;
			  background-image: url(s3.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s4 {
			 border-radius: 50%;
			  background-image: url(s4.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s5 {
			 border-radius: 50%;
			  background-image: url(s5.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s6 {
			 border-radius: 50%;
			  background-image: url(s6.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s7 {
			 border-radius: 50%;
			  background-image: url(s7.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s8 {
			 border-radius: 50%;
			  background-image: url(s8.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		.s9 {
			 border-radius: 50%;
			  background-image: url(s9.png);
			  background-repeat:no-repeat;
			  background-position:50% 50%;
		}
		

		.spiralContainer {
			 position: absolute;
		  	border-radius: 50%;
				z-index: 1;
		 	 overflow:hidden;
		 	 margin:20px;
		  
		  -webkit-animation: spin 3s linear 0s infinite reverse;
		  -moz-animation: spin 3s linear 0s infinite reverse;  
		  -ms-animation: spin 3s linear 0s infinite reverse;
		  -o-animation: spin 3s linear 0s infinite reverse;
		  animation: spin 3s linear 0s infinite reverse;
		  
		  -webkit-animation-play-state: paused;
		  -moz-animation-play-state: paused;
		  -ms-animation-play-state: paused;
		  -o-animation-play-state: paused;  
		  animation-play-state: paused;
		}

		/*.spiral {
		  width:200px;
		  height:200px;
		  border-radius: 50%;
		  background-image: url(1.png);
		  background-repeat:no-repeat;
		  background-position:50% 50%;
		  
		}*/

		.spin6 {
			-webkit-animation: spin 6s linear 0s infinite normal;
		  -moz-animation: spin 6s linear 0s infinite normal;
		  -ms-animation: spin 6s linear 0s infinite normal;
		  -o-animation: spin 6s linear 0s infinite normal;
		  animation: spin 6s linear 0s infinite normal;
		}
		.spin10 {
			-webkit-animation: spin 10s linear 0s infinite normal;
		  -moz-animation: spin 10s linear 0s infinite normal;
		  -ms-animation: spin 10s linear 0s infinite normal;
		  -o-animation: spin 10s linear 0s infinite normal;
		  animation: spin 10s linear 0s infinite normal;
		}
		.spin14 {
			-webkit-animation: spin 14s linear 0s infinite normal;
		  -moz-animation: spin 14s linear 0s infinite normal;
		  -ms-animation: spin 14s linear 0s infinite normal;
		  -o-animation: spin 14s linear 0s infinite normal;
		  animation: spin 14s linear 0s infinite normal;
		}
		.spiralContainer:hover {
		  -webkit-animation-play-state: running;
		  -moz-animation-play-state: running;
		  -ms-animation-play-state: running;
		  -o-animation-play-state: running;
		  animation-play-state: running;
		}
		@keyframes spin {
		  0% { transform: rotate(360deg); }
		  100% { transform: rotate(0deg); }
		}
		@-webkit-keyframes spin {
		  0% {-webkit-transform: rotate(360deg); }
		  100% { -webkit-transform: rotate(0deg); }
		}
		@-ms-keyframes spin {
		  0% {-ms-transform: rotate(360deg); }
		  100% { -ms-transform: rotate(0deg); }
		}
		@-moz-keyframes spin {
		  0% { -moz-transform: rotate(360deg); }
		  100% { -moz-transform: rotate(0deg); }
		}
		@-o-keyframes spin {
		  0% { -o-transform: rotate(360deg); }
		  100% { -o-transform: rotate(0deg); }
		}

		.message {
			position: absolute;
			width: 500px;
			text-align: center;
			z-index: 5;
			font-size: 40px;
		}

		 

		.info {
			/* display: none;*/
			 color: #1B1E1E;
			/* color: #1853DB;*/
			 font-weight: bold;
			 text-screenHeightadow: 0px 4px 3px rgba(0,0,0,0.4),
             0px 8px 13px rgba(0,0,0,0.1),
             0px 18px 23px rgba(0,0,0,0.1);

			/*visibility: hidden;*/
		}

		.tort {
			background-image: url(fl.png);
			background-repeat: no-repeat;
			display: none;
			
			position: absolute;
			background-size: 200px;
			width: 200px;
			height: 200px;
			margin: 0 auto;
			z-index: 8;
		}

		.pir {
			background-image: url(tort.png);
			background-repeat: no-repeat;
			display: none;
			
			position: absolute;
			background-size: 200px;
			width: 200px;
			height: 200px;
			margin: 0 auto;
			z-index: 8;
		}

		.but {
			width: 100%;
			height: 80px;
			display: none;
		}

		#tort-show {
			display: none;
		}

	</style>
 
 
	</head>
	<body id="body">
	
	
		 

		<div class="message" style="position: absolute; left: 50%;">
			<p class="info" style="display:none" id="pageTextSource">
				Поздравление, здесь текст поздравления, текст, текст, текст,текст,текст,текст,текст
			<p class="info" id="pageText" style="position: relative; left: -50%; width:100%">
			</p>
			<p id="tort-show" class="info" style="position: relative; left: -50%; width:100%">И еще текст </p>
		</div>
		 

		<div style="position: absolute; left: 50%;">
	        <div style="position: relative; left: -50%;" class="tort">
	        </div>
	         <div style="position: relative; left: -50%;" class="pir">
	        </div>

	        <div style="position: relative; left: -50%;">
	        	<button onclick="getBuk()" class="but">Взять букет!</button>
	        </div>
	    </div>

	</body>
</html>



		

		
<script src="../libs/jQuery/jquery-2.1.1.min.js"></script>
<script src="../libs/jQuery/jquery.transit.min.js"></script>

<script>

if (!$.support.transition)
    $.fn.transition = $.fn.animate;

var source,dest,len,now=0,delay=100,letters=1;
function screenHeightow_text()
{
    source = document.getElementById("pageTextSource");
    dest = document.getElementById("pageText");
    len = source.innerHTML.length;
    screenHeightow();
}

function screenHeightow()
{
    dest.innerHTML += source.innerHTML.substr(now,letters);
    now+=letters;

    if(now<len) {
    	setTimeout("screenHeightow()",delay);
    } else {
    	$(".tort").fadeIn(1000, function() {
						$( ".tort" ).animate({ 
							"background-size": "500px",
							"width": "500px",
							"height": "500px"
						 }, 2000, function() {

						 	 $( ".but" ).show();

						 });
					});
    }
}


var screenHeight;
var screenWidth;
var leaves = [];
jQuery(document).ready(function () {
    	 
    screenHeight = $( document ).height()+100;
    screenWidth = $( window ).width();

    $( window ).resize(function() {
	 	screenHeight = $( document ).height()+100;
	    screenWidth = $( document ).width();
	});


	var COUNT = 30;
 	for(var i = 0; i<COUNT; i++) {
 		var leaf = document.createElement("div");
 		leaf.className += "spiralContainer";
 		var inner = document.createElement("div");
 		inner.className+=getSnowClass();//getLisClass();
 		inner.className+=" "+"size5"+" ";
 		inner.className+=getSpinClass();
 		leaf.appendChild(inner);
 		var body = document.getElementById("body");
 		body.appendChild(leaf);
 		leaves[i] = leaf;
 		$( leaf ).css("top","-"+getRandomInt(200,1000)+"px");
 	}

	for(var i = 0; i<COUNT; i++) {
 		var screenHeightift = getRandomInt(0,screenWidth)+"px";
 		$(leaves[i]).css("left",screenHeightift);
 	}

	for(var i = 0; i<COUNT; i++) {
		move(leaves[i]);
	}

	congrations();
});

	var lisClasses = ["lis1","lis2","lis3","lis4","lis5" ];
	var sizeClasses = ["size1","size2","size3","size4"];
	var spinClasses = ["spin6","spin10","spin14"];
	var snowClasses = ["s1","s2","s3","s4","s5","s6", "s7","s8","s9"];
	var lisClasses1 = ["lis1","lis2","lis3","lis4","lis5","lis6","lis7","lis8","lis9" ];


	function getSize() {
		return sizeClasses[getRandomInt(0,3)];
	}

	 function getSpinClass () {
	 	return spinClasses[getRandomInt(0,2)];
	 }

	function getLisClass () {

		return lisClasses[getRandomInt(0,4)];
	}

	function getSnowClass () {

		return snowClasses[getRandomInt(0,8)];
	}
	
 	function congrations() {
 		 //$("#d1").animate({ "visibility": "visible" }, 5000, function() {});
 		 
 		 /*setTimeout(function(){ 
 		 	$("#d1").fadeIn(2000, function(){
 		 		$("#d2").fadeIn(2000, function() {
					
					});
 		 		});
 		 	});
 		 }, 3000);*/
 		setTimeout(function(){ 
 		  screenHeightow_text();}, 3000);		 
 	}
 

 	


	function getRandomInt(min, max) {
	  return Math.floor(Math.random() * (max - min + 1)) + min;
	}

	function move(element ) {
		var hei = parseInt($( element ).css("top"));
		var moveTo = parseInt($( element ).css("left"));
		var inc = getRandomInt(0,1);

		hei+= getRandomInt(50,100);
		 
		if(inc ==1) {
			moveTo += getRandomInt(50,150);
		} else {
			moveTo -= getRandomInt(50,150);
		}

		var moveToPX = moveTo+"px";
		var topToPX = hei+"px";
		var time = getRandomInt(1000, 3000);
		$( element ).transition({ "left": moveToPX, "top": topToPX }, time, function() {
			if(hei>screenHeight) {
				$( element ).css("top","-200px");
			}
		 	move(element);
		});
	}

	function getBuk () {
		$( ".tort" ).hide(500);
		$( ".but" ).hide(500);

		$( "#tort-show" ).show(1000, function() {
			$(".pir").fadeIn(1000, function() {
						$( ".pir" ).animate({ 
							"background-size": "500px",
							"width": "500px",
							"height": "500px"
						 }, 2000);
					});
		});
		
	}
	
</script>
<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-59740475-1', 'auto');
	  ga('send', 'pageview');
</script>
